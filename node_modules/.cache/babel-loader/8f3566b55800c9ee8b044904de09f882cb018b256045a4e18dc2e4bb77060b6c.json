{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useReducer, useState } from \"react\";\nexport const useApplicationData = () => {\n  _s();\n  const NEW_DECK = 'NEW_DECK';\n  const DRAW = \"DRAW\";\n  const ROUND = \"ROUND\";\n  const reducer = (state, action) => {\n    const reducers = {\n      ROUND: state => ({\n        ...state,\n        round: action.round\n      }),\n      NEW_DECK: state => ({\n        ...state,\n        deck: action.deck\n      }),\n      DRAW: state => ({\n        ...state,\n        card: action.card\n      })\n    };\n    return reducers[action.type](state) || reducers.default();\n  };\n  const [state, dispatch] = useReducer(reducer, {\n    round: 1,\n    deck: {},\n    card: {}\n  });\n  const gameRound = action => {\n    if (action === 'nextRound') {\n      dispatch({\n        type: ROUND,\n        round: state.round += 1\n      });\n    }\n    if (action === 'reset') {\n      dispatch({\n        type: ROUND,\n        round: 1\n      });\n    }\n  };\n  const handleOptions = () => {\n    switch (state.round) {\n      case 1:\n        return [\"Red\", \"Black\"];\n      case 2:\n        return [\"Higher\", \"Lower\"];\n      case 3:\n        return [\"Inside\", \"Outside\"];\n      case 4:\n        return [\"Diamond\", \"Club\", \"Heart\", \"Spade\"];\n      default:\n        return ['error', 'error'];\n    }\n  };\n  const handleGuess = choice => {\n    let round = state.round;\n    let card = state.card;\n    switch (round) {\n      case 1:\n        if (choice === 'Red' && (card[0].code.includes(\"H\") || card[0].code.includes(\"D\"))) {\n          console.log(round);\n          console.log(choice);\n          console.log(card[0].code);\n          gameRound('nextRound');\n        } else if (choice === 'Black' && (card[0].code.includes(\"C\") || state.card.code.includes(\"S\"))) {\n          console.log(round);\n          console.log(choice);\n          console.log(card[0].code);\n          gameRound('nextRound');\n        } else {\n          // updateDeck('new')\n          gameRound('reset');\n        }\n        break;\n      case 2:\n        if (choice === \"Higher\" && card[1].code[0] > card[0].code[0]) {\n          console.log(round);\n          console.log(choice);\n          console.log(card[1].code);\n          gameRound('nextRound');\n        } else if (choice === 'Lower' && card[1].code[0] < card[0].code[0]) {\n          console.log(round);\n          console.log(choice);\n          console.log(card[1].code);\n          gameRound('nextRound');\n        } else {\n          // updateDeck('new')\n          gameRound('reset');\n        }\n        break;\n      case 3:\n        break;\n      default:\n    }\n  };\n  const updateDeck = action => {\n    console.log(action);\n    console.log(state);\n    if (action === 'new') {\n      return axios.get('https://www.deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1').then(res => {\n        dispatch({\n          type: NEW_DECK,\n          deck: res.data\n        });\n      }).catch(err => {\n        console.log(\"Error loading: \", err);\n      });\n    }\n    if (action === 'draw') {\n      return axios.get(`https://www.deckofcardsapi.com/api/deck/${state.deck.deck_id}/draw/?count=4`).then(res => {\n        console.log(res.data.cards);\n        dispatch({\n          type: DRAW,\n          card: res.data.cards\n        });\n      }).catch(err => {\n        console.log(\"Error loading: \", err);\n      });\n    }\n  };\n  return {\n    updateDeck,\n    state,\n    gameRound,\n    handleGuess,\n    handleOptions\n  };\n};\n_s(useApplicationData, \"LP1BxUfwyuckvqLypf/nYG0kcXY=\");","map":{"version":3,"names":["axios","useReducer","useState","useApplicationData","NEW_DECK","DRAW","ROUND","reducer","state","action","reducers","round","deck","card","type","default","dispatch","gameRound","handleOptions","handleGuess","choice","code","includes","console","log","updateDeck","get","then","res","data","catch","err","deck_id","cards"],"sources":["/Users/travisliu/Playground/ride-the-bus/src/helpers/useApplicationData.js"],"sourcesContent":["import axios from \"axios\";\nimport { useReducer, useState } from \"react\";\n\nexport const useApplicationData = () => {\n\n  const NEW_DECK = 'NEW_DECK';\n  const DRAW = \"DRAW\";\n  const ROUND = \"ROUND\"\n\n  const reducer = (state, action) => {\n    const reducers = {\n      ROUND: state => ({ ...state, round: action.round }),\n      NEW_DECK: state => ({ ...state, deck: action.deck }),\n      DRAW: state => ({ ...state, card: action.card }),\n    }\n    return reducers[action.type](state) || reducers.default();\n  }\n\n  const [state, dispatch] = useReducer(reducer, {\n    round: 1,\n    deck: {},\n    card: {}\n  })\n  const gameRound = (action) => {\n    if (action === 'nextRound') {\n      dispatch({\n        type: ROUND,\n        round: state.round += 1,\n      })\n    }\n    if (action === 'reset') {\n      dispatch({\n        type: ROUND,\n        round: 1,\n      })\n    }\n  }\n\n  const handleOptions = () => {\n    switch (state.round) {\n      case 1:\n        return [\"Red\", \"Black\"]\n      case 2:\n        return [\"Higher\", \"Lower\"]\n      case 3:\n        return [\"Inside\", \"Outside\"]\n      case 4:\n        return [\"Diamond\", \"Club\", \"Heart\", \"Spade\"]\n      default:\n        return ['error', 'error']\n    }\n  }\n\n  const handleGuess = (choice) => {\n    let round = state.round\n    let card = state.card\n    switch (round) {\n      case 1:\n        if (choice === 'Red' && (card[0].code.includes(\"H\") || card[0].code.includes(\"D\"))) {\n          console.log(round)\n          console.log(choice)\n          console.log(card[0].code)\n          gameRound('nextRound')\n        } else if (choice === 'Black' && (card[0].code.includes(\"C\") || state.card.code.includes(\"S\"))) {\n          console.log(round)\n          console.log(choice)\n          console.log(card[0].code)\n          gameRound('nextRound')\n        } else {\n          // updateDeck('new')\n          gameRound('reset')\n        }\n        break;\n      case 2:\n        if (choice === \"Higher\" && (card[1].code[0] > card[0].code[0])) {\n          console.log(round)\n          console.log(choice)\n          console.log(card[1].code)\n          gameRound('nextRound')\n        }\n        else if (choice === 'Lower' && (card[1].code[0] < card[0].code[0])) {\n          console.log(round)\n          console.log(choice)\n          console.log(card[1].code)\n          gameRound('nextRound')\n        } else {\n          // updateDeck('new')\n          gameRound('reset')\n        }\n        break;\n      case 3:\n        break;\n      default:\n    }\n  }\n\n\n  const updateDeck = (action) => {\n    console.log(action)\n    console.log(state)\n    if (action === 'new') {\n      return axios\n        .get('https://www.deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1')\n        .then(res => {\n          dispatch({\n            type: NEW_DECK,\n            deck: res.data,\n          })\n        })\n        .catch(err => {\n          console.log(\"Error loading: \", err);\n        })\n    }\n    if (action === 'draw') {\n      return axios\n        .get(`https://www.deckofcardsapi.com/api/deck/${state.deck.deck_id}/draw/?count=4`)\n        .then(res => {\n          console.log(res.data.cards)\n          dispatch({\n            type: DRAW,\n            card: res.data.cards,\n          })\n        })\n        .catch(err => {\n          console.log(\"Error loading: \", err);\n        })\n    }\n  }\n\n  return {\n    updateDeck,\n    state,\n    gameRound,\n    handleGuess,\n    handleOptions\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}